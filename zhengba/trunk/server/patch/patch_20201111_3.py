# !/usr/bin/python
# coding:utf-8
# 脚本模板

import sys

sys.path.append('./game')
import g

# 跳过模块内的where条件检测，若没有充分理由，请勿随意跳过
#g.m.pathDebug.SKIP_WHERE_CHECK = True
uids = {"41070_5f5abf700678b63db1f7ee32": 766, "22080_5d41940fa97fa505750a59be": 408, "23900_5ecd3817857ead6d7836e79a": 843, "24990_5ead688d0d7e597d0818ebe1": 22, "36310_5fa0f4480678b63219220f53": 182, "9090_5c80f2c885b6b836ab72cadd": 838, "41810_5f715fa459d1b21d2b3df5ae": 766, "41810_5f70884a59d1b21d2a616fb5": 766, "8940_5c7dcbc923c8f20c94a5ef33": 538, "41280_5f5ed6c7fa0c477437ce7c96": 766, "4830_5c32ee1ac3c75a0b2147a1bc": 224, "36570_5eeecc76b538b31c89f69329": 413, "21390_5f1fad7b3c23773360d7008f": 538, "36570_5eea1bc1b538b31c886ed873": 122, "40750_5f563e8868ddf34f25127bbb": 766, "17290_5cf9f284ae34bd16fd410bc1": 535, "4890_5c33376348fc707bca551ad0": 843, "6260_5c559c60fa0c4772a42b8cbd": 279, "40850_5f9463de0678b61618f6cc62": 766, "30260_5e1ac595ea713015fed6204c": 423, "4590_5c2d8fa34005a04cda5b8094": 230, "41660_5f6cb94848fc705d9eed1401": 766, "41290_5f5f7a1768ddf35cb6c21155": 766, "1980_5bf434ccfb1f0f187aaec8cc": 840, "21060_5d45cb933d8c424b4e30fd91": 22, "23900_5d5c22bc857ead1e610aeb7b": 843, "11450_5ce402620d7e59388e61492d": 843, "16490_5cf06300cc20f320e88b5526": 538, "21730_5d3d8ba2161a8733b2b18370": 375, "3450_5c1a14ad50261a2d14e79245": 841, "2730_5c0b3b3e59d1b271443f80ed": 88, "41650_5f6ae6339cad087491a4ec5f": 765, "3090_5c14b3d53d8c423ce36aa2ee": 839, "31540_5e34dbb5ab6187680a2f42e1": 423, "41060_5f59c8fd60a5095c30a050ce": 763, "5880_5c4cabe3a182756985517211": 843, "41290_5f5f9a8568ddf35cb6c2e0f3": 762, "8360_5c76d5d6df2976106b8e269a": 537, "35290_5e9fa9570678b65a5a792d82": 419, "11440_5ca77321a18275085d0581bd": 841, "32660_5e4c96bc658c88376b480f19": 413, "13320_5cc1ceff50261a4c3774e5a9": 842, "18830_5d1630a42d281751a698a9cc": 841, "36570_5f5ecb07b538b34d1cff15c9": 418, "13900_5ccae4684005a03bef740f02": 839, "22160_5d4398089bbd0a612c6a01e6": 403, "10130_5c94eae353fe6c0bd116ad3a": 536, "41810_5f71232659d1b21d2a63a6f7": 766, "41300_5f6036950678b64ad60b8b63": 766, "4160_5c24b383ae34bd3c64728d8b": 843, "1650_5bea8987191d52727cebf16c": 842, "2720_5c0b3a0f23c8f228dc7f50cf": 107, "40310_5f489de0ab618743fcd356ad": 766, "40360_5f4cc00b9bf6d309d5d40897": 752, "41660_5f6db93d48fc705d9badd503": 766, "920_5bd880413d8c4223c7659def": 843, "14710_5cd4d2ef161a870dd7f35d8a": 536, "41650_5f6af9ba9cad087491a5377f": 766, "30170_5e186fc42d281728624d55cd": 419, "17050_5cf4e45609058821d8e991e8": 538, "12050_5caec6019bf6d32a59b03596": 537, "3290_5c186fa71526672d1fa5b344": 838, "21390_5d72752a3c23771a361909bb": 538, "10970_5c9fe481a97fa5073eb48810": 538, "23900_5ecd3a0f857ead6d7836e9ee": 843, "1030_5bdb2335ab6187209525e3af": 842, "11310_5ca56150857ead3151ded355": 538, "30810_5f42008f48fc704660b1b784": 100, "5080_5c374352b538b313ed173359": 843, "1490_5be6416d0905884fca48a1e5": 449, "36570_5f9992c5b538b3293d56ba96": 421, "41650_5f6b1bfe9cad0874900313f3": 763, "1490_5be7088b0905884fc9a0cb05": 486, "40350_5f4ae698a182751d819632ec": 756, "41280_5f5f2c95fa0c4774397c288e": 760, "1030_5bdbbe07ab61872097da9aa8": 842, "4450_5c3040d285b6b81fcb85714e": 244, "7065_5e89ff2a9cad0832ccbbe1d2": 538, "3090_5cdacace3d8c423743e51e4d": 842, "17960_5d05f12adf297643c390ca26": 537, "3090_5c740b653d8c4271f4b3b37b": 839, "18290_5d0b168bfa0c4757618232e7": 538, "40510_5f4e42b04005a01856e21f5c": 757, "41300_5f6030fb0678b64ad7544769": 763, "9460_5c8911ec1526670c36f9eafe": 843, "23900_5dc787d0857ead13202b6614": 843, "7065_5c622a639cad0817d6825d7b": 538, "8370_5c75f251c62bd94cfdba7b9a": 360, "10990_5ca1b9420d7e590eae7d5b0c": 538, "5870_5c4c1bd9c995bf20a539c2a7": 842, "32170_5e4381c5ae34bd4eff5e64c4": 415, "5330_5c3c6769c995bf0dd9754c0a": 842, "24590_5d6d1084dd26445d68cc7cbe": 538, "21640_5d3e3f43658c8862d3fc2b10": 82, "28900_5fa241df50261a1c13059d79": 423, "3090_5cdad51b3d8c423743e525a0": 842, "41130_5f5b54d40678b6405ba6ed1c": 761, "41650_5f6aaa509cad087491a45575": 766, "22710_5d4a2627642fb2157423156c": 538, "11450_5ce4f93e0d7e59388a84e388": 843, "2340_5bfe8b5cfb1f0f4dffd68ab8": 843, "40850_5f5746580678b633fbb4517e": 766, "35290_5eb24de60678b61c9bd4973e": 417, "11450_5d70c07c0d7e59771bc9cbc4": 843, "12180_5d05cc74ea713002431ca2c4": 838, "21590_5d393e51438348797905dbed": 22, "16670_5cef8b73ab61873c71c32bef": 535, "41300_5f605a590678b64ad8549209": 764, "29780_5e0f037dfb1f0f5cf42b409f": 423, "29370_5dfece7f857ead468e7f8480": 400, "21390_5d38ff4e3c2377739e4ee778": 538, "33680_5e6e0792b5342a7ebd443437": 420, "16400_5ec9aacf9bf6d35e80b88892": 331, "42400_5f7c215c48fc7017fdf74126": 765, "41800_5f7015d1c62bd929f464837c": 766, "3090_5cdaaf183d8c423743e5135f": 842, "9790_5c8e892f3c237739726dc76e": 538, "6870_5c5f0a9e53fe6c1f2fb0ddb9": 538, "40610_5f4f3db53c23772f3b84a106": 766, "41490_5f670542338ea032b051e94f": 763, "21390_5f1e3ffb3c23773360d6e439": 538, "16760_5cf0b6dd0d7e5930d7aac7fb": 536, "12300_5cb0151059d1b220a583c18e": 538, "41300_5f602eca0678b64ad7543c1f": 766, "41350_5f62b1350678b67e092ed020": 765, "8850_5c7d1b31ea71305cb482df2d": 841, "42180_5fa17cb743834822fd85a702": 762, "23900_5ecd3864857ead6d7836e7fc": 843, "41820_5f72c93250261a423e45d555": 763, "8490_5c79274cc5c6f735372f0bca": 105, "39050_5f236d873c237735069be581": 60, "41280_5f5f1084fa0c4774397b29b7": 766, "21800_5d41435bc3c75a2fbbc1e3d3": 123, "17240_5cf891f50d7e597ead665e0b": 538, "34650_5e8ed47842c7ac63633fa461": 218, "40360_5f4be0c49bf6d317d4ee8b9a": 766, "7360_5c603238642fb26b0da6248b": 839, "4990_5c357f4223c8f26a663df357": 197, "28900_5def2d5f50261a3125c35e06": 422, "6380_5c58da1853fe6c31d3ae6d6a": 843, "4770_5c3327bc38a4b955dbda11cf": 116, "2180_5bf8e567c5c6f73de9bdc4c4": 454, "1910_5bf0f038191d52579ad39cbc": 92, "8710_5e376cc853fe6c43ea819c6b": 255, "40620_5f999e2fc995bf6bc807332e": 764, "12180_5cb12df8ea71307a5bec5cec": 843, "21390_5dc18bad3c23777bd252c412": 534, "980_5bda41247e071372b8422fee": 843, "3280_5c18788dab61874eabd03047": 125, "5430_5c4047bb642fb228f839e331": 842, "23900_5d5c2fd7857ead1e610af874": 843, "21830_5de4c096cc20f31f50434675": 94, "1490_5c9237630905887bea2c3ca0": 449, "21800_5d41335cc3c75a2fbd7044b1": 28, "36570_5f33e2b4b538b33e486cf55f": 415, "21060_5d33c9703d8c425796aef2aa": 24, "41300_5f605a660678b64ad85492dc": 765, "4200_5c2625640d7e59481aab8530": 843, "10860_5ca5e99e23c8f270d3edeee0": 843, "40520_5fa40456a182754be052aded": 763, "23900_5ecd38c2857ead6d7836e858": 843, "3090_5cd93dfc3d8c423743e46358": 843, "4200_5c26b01a0d7e5954e8791b55": 842, "2420_5c00f905fb1f0f43856154af": 833, "9460_5c88a7651526670c389ad85c": 837, "32660_5e4ccf22658c88376b48262f": 413, "42350_5f7c7de648fc706f4929e9af": 766, "21390_5d3976ae3c2377739e4f3a3c": 538, "25400_5d7e770a15266742d257d02a": 538, "15410_5cde8b01fa0c47631cc69e31": 833, "20820_5d330e13c3c75a21ef0143b3": 119, "2610_5c074d7ecc20f34b75cd2a0a": 95, "42000_5f76d2873d8c4251b990653b": 765, "42350_5f7ad84548fc706f48814a15": 763, "2420_5c00a8d1fb1f0f438493eebc": 843, "5380_5c3eef1c642fb254cfa8cbb7": 538, "40750_5f56162d68ddf34f233b9983": 752, "23980_5d5cb7d03d8c4276a0b203a5": 275, "6660_5c59006453fe6c20179c70b5": 537, "24590_5ebbf05ddd264464e54b1110": 538, "22360_5d445e313c237753b35267ba": 842, "23900_5d66a7ee857ead572f23e36b": 843, "30010_5e13f59f50261a462bac77ff": 188, "42460_5f7da7073d8c42165efe44de": 766, "9080_5c7f83ba658c883f876fda27": 841, "29460_5e05a41c50261a4770bf34b6": 423, "13960_5cd05eda53fe6c3670ee8b2f": 841, "23900_5ecd390b857ead6d7836e8c6": 843, "40320_5f4912381526671e741c618d": 765, "4300_5c2822e485b6b8561a7988be": 843, "4360_5c28bd5543834860ab780e24": 839, "41290_5f5fd7d568ddf35cb909de9b": 765, "40610_5f4f4ded3c23772f3948a0a7": 765, "11460_5ca94affbde0c16172215cb4": 839, "32660_5e4cc95b658c88376dedfbb4": 417, "41650_5f6c21b99cad087490062f9b": 764, "23900_5d5cba46857ead1e5b0ab809": 843, "41650_5f6b3c6d9cad08748fd0b0cb": 746, "35060_5e970d4d338ea0278c8bd816": 763, "27180_5db8ec4e3c23774312482962": 509, "5885_5c4e71d6a97fa5207f95c3c9": 843, "10710_5ca13dd9cc20f3209d8c2a60": 842, "2280_5bfc619a0905885ef63401ff": 843, "24590_5eb9682bdd264464e54acd2e": 538, "41810_5f70639c59d1b21d2c971614": 735, "12670_5cbee7fa3c23774bfc5a84fb": 525, "9410_5c863bc80df34c50f47bceb2": 537, "41820_5f732df550261a423cf2ac53": 764, "40960_5f57c48a9cad0866ad8793ba": 762, "41490_5f66e9de338ea032b21a099b": 762, "2160_5bf905f838a4b942ff835062": 84, "24590_5d6cecc8dd26445d68cc721e": 538, "5170_5c39facaa182754e7df30686": 197, "7650_5c6a2a75a97fa52ad4aa93db": 361, "23830_5d5ae21efb1f0f46df11c204": 842, "6880_5c5e6e8c9bf6d346b4284604": 361, "40740_5f5b685968ddf3080e829a1e": 763, "7990_5c6fc866857ead5952629d51": 356, "23900_5ecd3941857ead6d7836e934": 843, "9090_5d42c6f985b6b83352088a56": 838, "8710_5c84e2c653fe6c4897a32fea": 279, "14040_5ccebbeec3c75a42ac846f40": 537, "35290_5ea3a3040678b67edfab430d": 423, "6180_5c53f35dab61872a1ac95fa4": 835, "23900_5ecd39ab857ead6d7836e992": 843, "23370_5d540c88cb5e3b48d4bd3ff5": 843}
class Patch(object):

    @g.m.pathDebug.patch
    def shop(self):
        for uid in uids:
            if g.m.crosscomfun.chkIsThisService(uid):
                _item = g.mdb.find('itemlist',{'itemid':{'$in':['5062','5063']},'uid':uid})
                _item = {i['itemid']:i['num'] for i in _item}
                _num = uids[uid]

                if _num >= _item.get('5062', 0):
                    _num -= _item.get('5062', 0)
                    g.mdb.delete('itemlist',{'itemid':'5062','uid':uid})

                    if _num >= _item.get('5063', 0):
                        _num -= _item.get('5063', 0)
                        g.mdb.delete('itemlist',{'itemid':'5063','uid':uid})
                    else:
                        g.mdb.update('itemlist', {'itemid': '5063', 'uid': uid}, {'num': _item['5063'] - _num})
                else:
                    g.mdb.update('itemlist', {'itemid': '5062', 'uid': uid},{'num':_item['5062']-_num})

    @g.m.pathDebug.run
    def run(self):
        # run名字固定，在这里指定执行顺序
        self.shop()


if __name__ == '__main__':
    patch = Patch()
    patch.run()